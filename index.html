<!DOCTYPE html>
<html lang="zh-Hant">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>HTML5 Demo Page</title>
      <style>
         body {
         font-family: "Noto Sans", "Helvetica", sans-serif;
         margin: 0;
         padding: 0;
         }
         header, nav, main, footer {
         padding: 20px;
         margin: 0;
         }
         header {
         background-color: #4CAF50;
         color: #fff;
         }
         nav {
         background-color: #eee;
         }
         nav a {
         margin-right: 15px;
         color: #333;
         text-decoration: none;
         }
         main {
         padding: 20px;
         background-color: #f9f9f9;
         min-height: 200px;
         }
         footer {
         background-color: #4CAF50;
         color: #fff;
         text-align: center;
         }
         button {
         padding: 10px 15px;
         background-color: #4CAF50;
         color: white;
         border: none;
         cursor: pointer;
         }
         button:hover {
         background-color: #45a049;
         }
      </style>
   </head>
   <body>
      <header>
         <h1>我的HTML5示範頁面</h1>
      </header>
      <nav>
         <a href="#section1">關於我們</a>
         <a href="#section2">產品介紹</a>
         <a href="#section3">聯絡我們</a>
      </nav>
      <main>
         <section id="section1">
            <h2>關於我們</h2>
            <p>這裡是示範網站的「關於我們」簡介文字。</p>
         </section>
         <section id="section2">
            <h2>產品介紹</h2>
            <p>這裡是產品介紹的簡述。</p>
            <button id="actionButton">點我顯示訊息</button>
         </section>
         <section id="section3">
            <h2>聯絡我們</h2>
            <p>這裡是聯絡資訊。</p>
         </section>
      </main>
      <footer>
         <p>版權所有 &copy; 2024 我的網站</p>
      </footer>
      <script>
        
   const apiUrl = "https://istdemo.chiconypower.com/setter_2_0/api/login"
fetch(apiUrl, {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    "username": "doraTest",
    "password": "Cpower_123456",
    "lang_id": 1,
    "lineUserId": "abcd",
    //"lineGroupId": in_groupId,
    //"lineRoomId": in_roomId,
    "grant_type": "password",
    "loginType": 2
  })
})
.then(response => {
  if (!response.ok) {
    // 非成功狀態碼時，先解析錯誤資訊
    return response.json().then(data => {
      // 假設後端回傳的錯誤格式中有 message 欄位
      const errorMsg = data.message || '未知的錯誤訊息';
      throw new Error(errorMsg);
    });
  }
  return response.json(); // 正常情況直接解析為 JSON
})
.then(data => {
  console.log('成功資料：', data);
})
.catch(error => {
  // 這裡的 error.message 即為後端提供的錯誤訊息
  console.log('錯誤訊息：', error.message);
});


      </script>
   </body>
</html>
